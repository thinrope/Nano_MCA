/*******************************************************************************
 File name  : Main.h
 *******************************************************************************/
/***************************************************************************
 *   Copyright (C) 2012 by LeDoyle R. Pingel, safelyiniowa@yahoo.com       *
 *                                                                         *
 *   This file is part of Gamma Grapher V2                                 *
 *                                                                         *
 *   Gamma Grapher is free software; you can redistribute it and/or modify *
 *   it under the terms of the GNU General Public License as published by  *
 *   the Free Software Foundation, either version 3 of the License, or     *
 *   (at your option) any later version.                                   *
 *                                                                         *
 *   OpenGamma is distributed in the hope that it will be useful,          *
 *   but WITHOUT ANY WARRANTY; without even the implied warranty of        *
 *   MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         *
 *   GNU General Public License for more details.                          *
 *                                                                         *
 *   You should have received a copy of the GNU General Public License     *
 *   along with OpenGamma. If not, see <http://www.gnu.org/licenses/>.     *
 ***************************************************************************/

#ifndef __Main_h
#define __Main_h

typedef enum {FALSE = 0, TRUE = !FALSE} bool;

#define CHANNELS 2048


// operational modes
#define PHA 0
#define RATE 1
#define OSCIL 2

typedef struct{
	// Configuration parameters saved in flash
	Bool initialized;	
	u8 mode;
	u16 sample_period;	// sample periods for in rate mode
	Bool sample_background;	// if true store spectrum in background array
	u16 alarm_level;	// alarm when in rate mode
	u16 offset_level;
	u8 comp_select;
	u16 energy_coeff;	// scales pulse height to channel number / kev
	Bool smooth_filter;	
	char time_base;
	u16 input_range;	// sensitivity of input in mV
	u16 thresh_lo;			// thresholds for detecting pulses
	u16 thresh_window;
	u16 channels;	// actual number of channels used
	u16 high_energy_comp;		
} Config;
#endif
/******************************** END OF FILE *********************************/
